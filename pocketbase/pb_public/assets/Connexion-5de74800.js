import{_ as r,C as i,o as c,c as m,a as e,F as b,d as p,p as v,e as g}from"./index-57ec041f.js";const l=n=>(v("data-v-e4f1a55b"),n=n(),g(),n),_=l(()=>e("div",{class:"background-image"},null,-1)),y={class:"login container",id:"signOut",style:{"text-align":"center"}},h={class:"card"},f=p('<h1 class="Title" data-v-e4f1a55b>Inscription</h1><label class="label-1" data-v-e4f1a55b>Nom d&#39;utilisateur : </label><br data-v-e4f1a55b><input style="margin-bottom:2vh;" type="text" required id="username" placeholder="nom d&#39;utilisateur" class="login-input" data-v-e4f1a55b><br data-v-e4f1a55b><label class="label-1" data-v-e4f1a55b>Adresse mail : </label><br data-v-e4f1a55b><input style="margin-bottom:2vh;" type="email" required id="email" placeholder="email" class="login-input" data-v-e4f1a55b><br data-v-e4f1a55b><label class="label-1" data-v-e4f1a55b>Mot de passe : </label><br data-v-e4f1a55b><input style="margin-bottom:2vh;" type="password" required id="passwd" placeholder="Mot de passe" class="login-input" data-v-e4f1a55b><br data-v-e4f1a55b>',13),I=l(()=>e("p",null,[e("label",{id:"status"}," Vous n'etes pas connecté "),e("br")],-1)),B=l(()=>e("span",{id:"user-name"},null,-1)),E=l(()=>e("span",{id:"user-nom",style:{"margin-left":"1vh"}},null,-1));var d="";d="https://tavue.yassirodh.fr";const t=new i(d);var a;const w={methods:{async register(){a=await t.collection("users").create({email:document.getElementById("email").value,password:document.getElementById("passwd").value,passwordConfirm:document.getElementById("passwd").value,username:document.getElementById("username").value,name:"John Di"}),a&&(document.getElementById("status").innerHTML="Nous vous avons envoyer un mail de vérifictaion..",await t.collection("users").requestVerification(document.getElementById("email").value))},async googlelogin(){await t.collection("users").authWithOAuth2({provider:"google"}),t.authStore.isValid&&(document.getElementById("status").innerHTML="You are now logged in",a=t.authStore.model,document.getElementById("signOut").style.visibility="hidden",document.getElementById("addPoem").style.visibility="visible")},async loginGithub(){await t.collection("users").authWithOAuth2({provider:"github"}),t.authStore.isValid&&(document.getElementById("status").innerHTML="You are now logged in Github",a=t.authStore.model)},async createPoem(){await t.collection("poems").create({title:document.getElementById("title").value,content:document.getElementById("content").value,private:document.getElementById("notpublic").value,email:a.email,illustration:document.getElementById("file").files[0]})}}},S=Object.assign(w,{__name:"Connexion",setup(n){return new i({}.VITE_URL_POCKETBASE),(o,s)=>(c(),m(b,null,[_,e("div",y,[e("div",h,[f,e("button",{class:"login-btn round-button",style:{"margin-left":"1vh"},onClick:s[0]||(s[0]=u=>o.register())},"S'inscrire"),e("button",{class:"login-btn round-button",style:{"margin-left":"1vh"},onClick:s[1]||(s[1]=u=>o.loginGithub())},"Se connecter avec Github"),I,B,E])])],64))}}),x=r(S,[["__scopeId","data-v-e4f1a55b"]]);export{x as default};
